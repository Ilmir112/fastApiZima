<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Просмотр файлов</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #111;
    color: #eee;
    margin: 0;
    padding: 20px;
  }
  .file-container {
    margin-bottom: 40px;
  }
  h3 {
    margin-bottom: 10px;
  }
  /* Можно добавить стили для элементов */
</style>
</head>
<body>

<h1>Просмотр файлов</h1>

{% for file in files %}
<div class="file-container">
  <h3>{{ file.path }}</h3>

  {% if file.ext in ['.jpg', '.jpeg', '.png', '.gif'] %}
    <img src="{{ file.path }}" alt="Изображение" style="max-width:100%; height:auto;"/>

  {% elif file.ext == '.pdf' %}
    <embed src="{{ file.path }}" type="application/pdf" width="100%" height="600px"/>

  {% elif file.ext in ['.mp4', '.webm', '.ogg'] %}
    <video controls style="max-width:100%; height:auto;">
      <source src="{{ file.path }}" type="video/{{ file.ext|slice(1) }}">
      Ваш браузер не поддерживает видео.
    </video>

  {% else %}
    <p>Формат файла не поддерживается для предварительного просмотра.</p>
    <a href="{{ file.path }}" download>Скачать файл</a>
  {% endif %}
</div>
{% endfor %}

</body>
</html>