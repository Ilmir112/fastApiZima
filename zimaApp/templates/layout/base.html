<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <title>{% block title %}Zima{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous"/>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}"/>

    {% block head %}
    {% endblock %}
</head>
<body>
<header>
    <!-- Навигационная панель -->
    <nav class="navbar navbar-dark bg-dark fixed-top">
        <div class="container">
            <img src="/static/image/zima_ico.ico" alt="Zima" style="width:50px; height:auto;"/>
            <a class="navbar-brand" href="/pages/home">ZIMA</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
                 aria-labelledby="offcanvasDarkNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Навигационная панель</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                            aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Мой аккаунт</a>
                        </li>
                        <!-- Можно добавлять динамически -->
                        <li class="nav-item d-none" id="logoutItem">
                            <button class="btn btn-outline-secondary" id="logoutBtn">Выйти</button>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/pages/plan">План работ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">АВР</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Сводка с ЦДС</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Данные по скважине</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/pages/repair_gis">Простои ГИС</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                               aria-expanded="false">
                                Dropdown
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark">
                                <li><a class='dropdown-item' href='#'>Action</a></li>
                                <li><a class='dropdown-item' href='#'>Another action</a></li>
                                <li>
                                    <hr class='dropdown-divider'>
                                </li>
                                <li><a class='dropdown-item' href='#'>Something else here</a></li>
                            </ul>
                        </li>
                    </ul>
                    <!-- Форма поиска -->
                    <form class='d-flex mt-3' role='search'>
                        <input class='form-control me-2' type='search' placeholder='Search' aria-label='Search'/>
                        <button class='btn btn-success' type='submit'>Search</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>

    <!-- Форма входа -->
    <!-- Можно оставить внутри контейнера или вынести по необходимости -->
    <!-- В данном случае оставляем внутри header, если это так задумано -->
    {% block login_form %}
    <div id="login-container" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
     background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.5); z-index: 9999;">
        <h3>Войти в систему</h3>
        <form id="loginForm">
            <div class="mb-3">
                <label for="login_user" class="form-label">Логин</label>
                <input type="text" class="form-control" id="login_user" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Пароль</label>
                <input type="password" class="form-control" id="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Войти</button>
        </form>
    </div>
    {% endblock %}
</header>

<!-- Основной контент -->
<div id='content' style='margin-top: 80px;'> <!-- добавил отступ для учета фиксированной навигации -->
    {% block content %}
    {% endblock %}
</div>

<!-- Подвал сайта -->
<div class='content-container' style='margin-top: 20px;'>
    <footer>
        <p>&copy; 2025 Все права защищены. Интелектуальная собственность Зуфарова И.М.</p>
        <!-- Добавьте информацию об авторских правах, контактные данные или другую информацию -->
    </footer>
</div>

<!-- Скрипты -->
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js'
        integrity='sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q'
        crossorigin='anonymous'></script>

<!-- Внешний JS файл -->
<script src='../static/js/login.js'></script>

{% block scripts %}
{% endblock %}

</body>
</html>